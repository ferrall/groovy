.note-icon-container {
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 100%;
  height: 100%;
}

.note-icon {
  position: absolute;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s ease;
}

.primary-icon {
  font-size: 1rem;
  color: #667eea;
  z-index: 1;
}

.text-icon {
  font-size: 1.2rem;
  font-weight: bold;
}

/* Layered icons for complex articulations */
.layered-icon {
  font-size: 0.7rem;
  opacity: 0.8;
}

.layer-1 {
  transform: translate(6px, -6px);
  z-index: 2;
  color: #764ba2;
}

.layer-2 {
  transform: translate(-6px, 6px);
  z-index: 2;
  color: #f093fb;
}

/* Specific icon styling based on category */
.note-cell.active .note-icon {
  color: #667eea;
}

.note-cell.active:hover .note-icon {
  color: #764ba2;
  transform: scale(1.1);
}

/* Ghost note styling (smaller, dimmed) */
.note-icon.ghost-note {
  font-size: 0.8rem;
  opacity: 0.5;
}

/* Accent styling (larger, brighter) */
.note-icon.accent {
  font-size: 1.2rem;
  color: #f093fb;
}

/* Animation for current position */
.note-cell.current .note-icon {
  animation: pulse 0.5s ease-in-out infinite;
}

@keyframes pulse {
  0%, 100% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.15);
  }
}

/* Playing state - red color when beat is currently playing */
.note-icon-container.playing .note-icon {
  color: #ff4444 !important;
  animation: beat-flash 0.15s ease-out;
}

.note-icon-container.playing .text-icon {
  color: #ff4444 !important;
}

@keyframes beat-flash {
  0% {
    transform: scale(1.3);
    filter: brightness(1.5);
  }
  100% {
    transform: scale(1);
    filter: brightness(1);
  }
}

/* Dark mode support */
@media (prefers-color-scheme: dark) {
  .primary-icon {
    color: #8b9dff;
  }

  .note-cell.active .note-icon {
    color: #8b9dff;
  }

  .note-cell.active:hover .note-icon {
    color: #a5b4ff;
  }

  .layer-1 {
    color: #9b7bc2;
  }

  .layer-2 {
    color: #f5b3fb;
  }
}

